<html><head><link rel="import" href="../../polymer/polymer.html"><link rel="import" href="../../iron-media-query/iron-media-query.html"><link rel="import" href="../../iron-resizable-behavior/iron-resizable-behavior.html"><link rel="import" href="../app-drawer/app-drawer.html"></head><body><dom-module id="app-drawer-layout"><template><style>:host{display:block;}:host([fullbleed]){@apply (--layout-fit);}#contentContainer{position:relative;height:100%;transition:var(--app-drawer-layout-content-transition, none);}#contentContainer:not(.narrow) > ::content [drawer-toggle]{display:none;}</style><div id="contentContainer"><content select=":not(app-drawer)"></content></div><content id="drawerContent" select="app-drawer"></content><iron-media-query query="[[_computeMediaQuery(forceNarrow, responsiveWidth)]]" on-query-matches-changed="_onQueryMatchesChanged"></iron-media-query></template><script>Polymer({is:'app-drawer-layout',behaviors:[Polymer.IronResizableBehavior],properties:{forceNarrow:{type:Boolean,value:!1},responsiveWidth:{type:String,value:'640px'},narrow:{type:Boolean,readOnly:!0,notify:!0},openedWhenNarrow:{type:Boolean,value:!1}},listeners:{tap:'_tapHandler','app-drawer-attached':'_resetDrawerState','app-drawer-reset-layout':'resetLayout','iron-resize':'resetLayout'},observers:['resetLayout(narrow, isAttached)','_narrowChanged(narrow, isAttached)'],get drawer(){return Polymer.dom(this.$.drawerContent).getDistributedNodes()[0]},_tapHandler:function(b){var c=Polymer.dom(b).localTarget;if(c&&c.hasAttribute('drawer-toggle')){var d=this.drawer;d&&!d.persistent&&d.toggle()}},resetLayout:function(){this.debounce('_resetLayout',function(){var b=this.drawer,c=this.$.contentContainer;if(this.narrow||!b)c.style.marginLeft='',c.style.marginRight='';else{var d=b.getWidth();'right'==b.position?(c.style.marginLeft='',c.style.marginRight=d+'px'):(c.style.marginLeft=d+'px',c.style.marginRight='')}})},_resetDrawerState:function(){this.debounce('_resetDrawerState',function(){var b=this.drawer;b&&(this.narrow?(b.opened=this.openedWhenNarrow,b.persistent=!1):b.opened=b.persistent=!0)})},_narrowChanged:function(b){this.toggleClass('narrow',b,this.$.contentContainer),this._resetDrawerState(),this.notifyResize()},_onQueryMatchesChanged:function(b){this._setNarrow(b.detail.value)},_computeMediaQuery:function(b,c){return b?'(min-width: 0px)':'(max-width: '+c+')'}});</script></dom-module></body></html>